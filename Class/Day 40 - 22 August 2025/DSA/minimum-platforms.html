<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Minimum Platforms Required</title>
        <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body class="bg-gray-50 min-h-screen flex flex-col items-center justify-center">
        <div class="w-full max-w-md bg-white rounded-lg shadow-lg p-8 mt-8">
            <a href="index.html" class="text-blue-600 hover:underline mb-4 inline-block">&larr; Back</a>
            <h1 class="text-2xl font-bold mb-6 text-center">Minimum Platforms Required</h1>
            <form id="platformForm" class="mb-4 space-y-4">
                <div>
                    <label class="font-medium block mb-1">Arrivals (comma separated, e.g. 9:00,9:40,...)</label>
                    <input type="text" id="arrivalsInput" class="w-full border rounded px-3 py-2" value="9:00,9:40,9:50,11:00,15:00,18:00">
                </div>
                <div>
                    <label class="font-medium block mb-1">Departures (comma separated, e.g. 9:10,12:00,...)</label>
                    <input type="text" id="departuresInput" class="w-full border rounded px-3 py-2" value="9:10,12:00,11:20,11:30,19:00,20:00">
                </div>
                <button type="submit" id="calcBtn" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition">Calculate Minimum Platforms</button>
            </form>
            <div id="result" class="mt-6 text-gray-800"></div>
        </div>
        <script>
            function toMinutes(timeStr) {
                const [h, m] = timeStr.split(':').map(Number);
                return h * 60 + m;
            }

            function minPlatforms(arrivals, departures) {
                const n = arrivals.length;
                const arr = arrivals.map(toMinutes).sort((a, b) => a - b);
                const dep = departures.map(toMinutes).sort((a, b) => a - b);

                let platforms = 1, result = 1;
                let i = 1, j = 0;

                while (i < n && j < n) {
                    if (arr[i] <= dep[j]) {
                        platforms++;
                        i++;
                    } else {
                        platforms--;
                        j++;
                    }
                    if (platforms > result) result = platforms;
                }
                return result;
            }

            document.getElementById('platformForm').onsubmit = function(e) {
                e.preventDefault();
                const arrivals = document.getElementById('arrivalsInput').value.split(',').map(s => s.trim()).filter(Boolean);
                const departures = document.getElementById('departuresInput').value.split(',').map(s => s.trim()).filter(Boolean);
                if (arrivals.length !== departures.length || arrivals.length === 0) {
                    document.getElementById('result').innerHTML = `<p class="font-bold text-red-700">Please enter equal number of arrivals and departures.</p>`;
                    return;
                }
                const platforms = minPlatforms(arrivals, departures);
                document.getElementById('result').innerHTML = `<p class="font-bold text-green-700">${platforms} platforms needed</p>`;
            };
        </script>
    </body>
</html>
