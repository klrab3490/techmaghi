<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Transpose Matrix</title>
        <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body class="bg-gradient-to-br from-blue-50 to-green-50 min-h-screen flex flex-col items-center p-6">
        <a href="index.html" class="mb-6 inline-block text-blue-700 hover:underline text-lg font-medium">&larr; Back</a>
        <div class="bg-white shadow-xl rounded-2xl p-8 w-full max-w-4xl flex flex-col items-center">
            <h1 class="text-3xl font-extrabold mb-2 text-blue-800">Transpose a Matrix</h1>
            <p class="mb-6 text-gray-700 text-center">Enter the size and elements of your matrix to find its transpose.</p>
            <div class="flex flex-col md:flex-row gap-8 w-full mb-8">
                <div class="flex-1 bg-blue-50 rounded-xl p-4">
                    <h2 class="text-lg font-semibold mb-2 text-blue-700">Example Input</h2>
                    <pre class="bg-white p-4 rounded-lg border border-blue-100 text-blue-900">[
    [1, 2, 3],
    [4, 5, 6], 
    [7, 8, 9]
]</pre>
                </div>
                <div class="flex-1 bg-green-50 rounded-xl p-4">
                    <h2 class="text-lg font-semibold mb-2 text-green-700">Example Output</h2>
                    <pre class="bg-white p-4 rounded-lg border border-green-100 text-green-900">[
    [1, 4, 7],
    [2, 5, 8],
    [3, 6, 9]
]</pre>
                </div>
            </div>
            <div class="w-full max-w-md bg-gradient-to-br from-white to-blue-100 shadow-lg rounded-xl p-6 mb-6">
                <div class="mb-4 grid grid-cols-2 gap-4">
                    <div>
                        <label for="rowCount" class="block mb-1 font-semibold text-gray-700">Rows</label>
                        <input type="number" id="rowCount" min="1" class="border border-gray-300 rounded-lg px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="Rows">
                    </div>
                    <div>
                        <label for="colCount" class="block mb-1 font-semibold text-gray-700">Columns</label>
                        <input type="number" id="colCount" min="1" class="border border-gray-300 rounded-lg px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="Columns">
                    </div>
                </div>
                <button id="generateFieldsBtn" class="w-full px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition mb-3 shadow">Generate Input Fields</button>
                <div id="arrayFields" class="mb-2"></div>
                <small class="text-gray-500 block mb-2">Fill the elements for each cell</small>
                <div class="flex gap-3 mt-2">
                    <button id="transposeBtn" class="flex-1 px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition shadow">Transpose Matrix</button>
                </div>
                <div id="resultContainer"></div>
            </div>
        </div>
    </div>

        <script>
            let matrix = [];
            
            function generateInputFields() {
                const rows = parseInt(document.getElementById('rowCount').value, 10);
                const cols = parseInt(document.getElementById('colCount').value, 10);
                const arrayFields = document.getElementById('arrayFields');
                arrayFields.innerHTML = '';
                if (rows > 0 && cols > 0) {
                    const table = document.createElement('table');
                    table.className = 'mx-auto mb-2';
                    for (let i = 0; i < rows; i++) {
                        const tr = document.createElement('tr');
                        for (let j = 0; j < cols; j++) {
                            const td = document.createElement('td');
                            td.className = 'p-1';
                            const input = document.createElement('input');
                            input.type = 'number';
                            input.className = 'border border-gray-300 rounded-lg px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-400';
                            input.placeholder = `Element [${i}][${j}]`;
                            td.appendChild(input);
                            tr.appendChild(td);
                        }
                        table.appendChild(tr);
                    }
                    arrayFields.appendChild(table);
                }
            }
            document.getElementById('generateFieldsBtn').onclick = generateInputFields;

            function transposeMatrix() {
                const rows = parseInt(document.getElementById('rowCount').value, 10);
                const cols = parseInt(document.getElementById('colCount').value, 10);
                const arrayFields = document.querySelectorAll('#arrayFields input');
                matrix = Array.from({ length: rows }, () => Array(cols).fill(0));

                arrayFields.forEach(input => {
                    const [row, col] = input.placeholder.match(/\d+/g).map(Number);
                    matrix[row][col] = parseFloat(input.value) || 0;
                });

                const transposed = matrix[0].map((_, colIndex) => matrix.map(row => row[colIndex]));
                console.log(transposed);
            }
            document.getElementById('transposeBtn').onclick = function() {
                transposeMatrix();
                const resultContainer = document.getElementById('resultContainer');
                resultContainer.innerHTML = '';
                const transposed = matrix[0].map((_, colIndex) => matrix.map(row => row[colIndex]));
                // Format output like:
                // [
                //   [1, 4, 7],
                //   [2, 5, 8],
                //   [3, 6, 9]
                // ]
                let formatted = '[\n';
                formatted += transposed.map(row => '    [' + row.join(', ') + ']').join(',\n');
                formatted += '\n]';
                const result = document.createElement('pre');
                result.className = 'bg-white p-4 rounded-lg border border-blue-100 text-blue-900 mt-4';
                result.textContent = formatted;
                resultContainer.appendChild(result);
            };
        </script>
    </body>
</html>